# GEPA Multi-Disease Antibody Optimization Configuration

# LLM Configuration
llm:
  model: "gpt-4"
  api_key_env: "OPENAI_API_KEY"
  temperature: 0.2  # Lower for more consistent outputs
  max_tokens: 500
  enforce_format: true
  max_feedback_tokens: 2000
  max_mutations: 3

# Dataset Configuration
dataset:
  name: "Exscientia/AbBiBench"
  
# Target Antigens (Diseases)
# Note: These will be validated against the dataset
# Invalid antigens will be automatically removed
antigens:
  - "HER2"
  - "VEGF"

# GEPA Evolution Configuration
evolution:
  iterations: 10
  
# Mutation Prompt Template
mutation_prompt_template: |
  You are an expert protein engineer optimizing an antibody sequence for binding to multiple disease targets.
  
  Current antibody sequence:
  {sequence}
  
  Performance across diseases:
  {feedback}
  
  Task: Propose a new antibody sequence with 1-3 strategic amino acid mutations that will improve binding across ALL target diseases.
  
  Rules:
  1. Keep the sequence length EXACTLY the same
  2. Make only 1-3 targeted mutations (NOT more)
  3. Use only valid amino acids: A C D E F G H I K L M N P Q R S T V W Y
  4. Focus on improving weak-binding diseases while maintaining strong ones
  5. Return ONLY the mutated sequence with no explanation, no labels, no formatting
  
  Mutated sequence:

# Run Baselines Flag
run_baselines: false  # Set to true to run baseline comparisons

# Baseline Configurations
baselines:
  random_search:
    iterations: 10
    mutations_per_iter: 3
  single_mutation:
    iterations: 10
  genetic_algorithm:
    population_size: 20
    generations: 10
    mutation_rate: 0.1
    crossover_rate: 0.7
